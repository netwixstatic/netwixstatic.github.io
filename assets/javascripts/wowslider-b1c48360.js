jQuery.fn.wowSlider=function(t){function e(t){O.css({left:-t+"00%"})}function i(t){return((t||0)+F)%F}function n(t,e,n){isNaN(t)&&(t=I($,F)),t=i(t),$!=t&&(k?k.load(t,function(){a(t,e,n)}):a(t,e,n))}function o(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t.charCodeAt(i)^1+(t.length-i)%32);return e}function a(e,i,n){var e=j.go(e,$,i,n);0>e||(_.trigger(T.Event("go",{index:e})),l(e),t.caption&&w(A[e]),$=e,$!=t.stopOn||--t.loop||(t.autoPlay=0),d(),t.onStep&&t.onStep(e))}function s(t,e,i,n,o){new r(t,e,i,n,o)}function r(t,e,i,n,o){var a,s,r=0,l=0;t.addEventListener&&(t.addEventListener("touchmove",function(t){return r=1,l&&e(t,a-t.touches[0].pageX,s-t.touches[0].pageY)&&(a=s=l=0),!1},!1),t.addEventListener("touchstart",function(t){r=0,1==t.touches.length?(a=t.touches[0].pageX,s=t.touches[0].pageY,l=1,i&&i(t)):l=0},!1),t.addEventListener("touchend",function(t){l=0,n&&n(t),!r&&o&&o(t)},!1))}function l(t){if(D.length&&m(t),Q.length&&v(t),L){var e=T("A",A.get(t)).get(0);e?(L.setAttribute("href",e.href),L.setAttribute("target",e.target),L.style.display="block"):L.style.display="none"}}function f(){q&&(q=0,setTimeout(function(){_.trigger(T.Event("stop",{}))},t.duration))}function c(){!q&&t.autoPlay&&(q=1,_.trigger(T.Event("start",{})))}function u(){p(),f()}function d(e){p(),t.autoPlay?(B=setTimeout(function(){n()},t.delay+(e?0:t.duration)),c()):f()}function p(){B&&clearTimeout(B),B=null}function h(t,e,i,o){p(),t.preventDefault(),n(e,i,o),d()}function g(){function t(t){0>t&&(t=0),k&&k.loadTtip(t),T(c.get(g)).removeClass("ws_overbull"),T(c.get(t)).addClass("ws_overbull"),d.show();var e={left:c.get(t).offsetLeft-d.width()/2,"margin-top":c.get(t).offsetTop-c.get(0).offsetTop+"px","margin-bottom":-c.get(t).offsetTop+c.get(c.length-1).offsetTop+"px"},i=u.get(t),n={left:-i.offsetLeft+(T(i).outerWidth(!0)-T(i).outerWidth())/2};0>g?(d.css(e),p.css(n)):(document.all||(e.opacity=1),d.stop().animate(e,"fast"),p.stop().animate(n,"fast")),g=t}if(_.find(".ws_bullets a,.ws_thumbs a").click(function(t){h(t,T(this).index())}),Q.length){Q.hover(function(){R=1},function(){R=0});var e=Q.find(">div");Q.css({overflow:"hidden"});var i,n,o,a=_.find(".ws_thumbs");a.bind("mousemove mouseover",function(t){if(!o){clearTimeout(n);for(var a=.2,s=0;2>s;s++){var r=Q[s?"width":"height"](),l=e[s?"width":"height"](),f=r-l;if(0>f){var c,u,d=(t[s?"pageX":"pageY"]-Q.offset()[s?"left":"top"])/r;if(i==d)return;if(i=d,e.stop(!0),J>0){if(d>a&&1-a>d)return;c=.5>d?0:f-1,u=J*Math.abs(e.position()[s?"left":"top"]-c)/(Math.abs(d-.5)-a)}else c=f*Math.min(Math.max((d-a)/(1-2*a),0),1),u=-J*l/2;e.animate(s?{left:c}:{top:c},u,J>0?"linear":"easeOutCubic")}else e.css(s?"left":"top",s?f/2:0)}}}),a.mouseout(function(){n=setTimeout(function(){e.stop()},100)}),Q.trigger("mousemove");var r,l;s(e.get(0),function(t,i,n){return e.css("left",Math.min(Math.max(r-i,Q.width()-e.width()),0)),e.css("top",Math.min(Math.max(l-n,Q.height()-e.height()),0)),t.preventDefault(),!1},function(){return r=parseFloat(e.css("left"))||0,l=parseFloat(e.css("top"))||0,!1}),_.find(".ws_thumbs a").each(function(t,e){s(e,0,0,function(){o=1},function(t){h(t,T(e).index())})})}if(D.length){var f=D.find(">div"),c=T("a",D),u=c.find("IMG");if(u.length){var d=T('<div class="ws_bulframe"/>').appendTo(f),p=T("<div/>").css({width:u.length+1+"00%"}).appendTo(T("<div/>").appendTo(d));u.appendTo(p),T("<span/>").appendTo(d);var g=-1;c.hover(function(){t(T(this).index())});var v;f.hover(function(){v&&(clearTimeout(v),v=0),t(g)},function(){c.removeClass("ws_overbull"),document.all?v||(v=setTimeout(function(){d.hide(),v=0},400)):d.stop().animate({opacity:0},{duration:"fast",complete:function(){d.hide()}})}),f.click(function(t){h(t,T(t.target).index())})}}}function v(t){T("A",Q).each(function(e){if(e==t){var i=T(this);if(i.addClass("ws_selthumb"),!R){var n=Q.find(">div"),o=i.position()||{},a=n.position()||{};n.stop(!0).animate({left:-Math.max(Math.min(o.left,-a.left),o.left+i.width()-Q.width()),top:-Math.max(Math.min(o.top,-a.top),o.top+i.height()-Q.height())})}}else T(this).removeClass("ws_selthumb")})}function m(t){T("A",D).each(function(e){e==t?T(this).addClass("ws_selbull"):T(this).removeClass("ws_selbull")})}function w(e){var i=T("img",e).attr("title"),n=T(e).data("descr"),o=T(".ws-title",_);o.stop(1,1).stop(1,1).fadeOut(t.captionDuration/3,function(){if(i||n){o.html((i?"<span>"+i+"</span>":"")+(n?"<div>"+n+"</div>":""));var e=t.captionEffect;(Z[T.type(e)]||Z[e]||Z[0])(e,o,t.captionDuration)}})}function b(t,e){var i,n=document.defaultView;if(n&&n.getComputedStyle){var o=n.getComputedStyle(t,"");o&&(i=o.getPropertyValue(e))}else{var a=e.replace(/\-\w/g,function(t){return t.charAt(1).toUpperCase()});i=t.currentStyle?t.currentStyle[a]:t.style[a]}return i}function y(t,e,i){for(var n="padding-left|padding-right|border-left-width|border-right-width".split("|"),o=0,a=0;a<n.length;a++)o+=parseFloat(b(t,n[a]))||0;var s=parseFloat(b(t,"width"))||(t.offsetWidth||0)-o;return e&&(s+=o),i&&(s+=(parseFloat(b(t,"margin-left"))||0)+(parseFloat(b(t,"margin-right"))||0)),s}function x(t,e,i){for(var n="padding-top|padding-bottom|border-top-width|border-bottom-width".split("|"),o=0,a=0;a<n.length;a++)o+=parseFloat(b(t,n[a]))||0;var s=parseFloat(b(t,"height"))||(t.offsetHeight||0)-o;return e&&(s+=o),i&&(s+=(parseFloat(b(t,"margin-top"))||0)+(parseFloat(b(t,"margin-bottom"))||0)),s}function M(t,e,i,n,o){function a(t){var i=T(s[t]).css("opacity");T(s[t]).css({visibility:"visible"}).css({opacity:0}).animate({opacity:i},o,"easeOutCirc").animate({top:0,left:0},{duration:o,easing:e.easing||n,queue:!1})}var s=t.find(">span,>div").get();T(s).css({position:"relative",visibility:"hidden"}),t.show();for(var r in e)if(/\%/.test(e[r])){e[r]=parseInt(e[r])/100;var l=t.offset()[/left/.test(r)?"left":"top"],f=/left/.test(r)?"width":"height";e[r]*=e[r]<0?l:_[f]()-t[f]()-l}T(s[0]).css({left:(e.left1||0)+"px",top:(e.top1||0)+"px"}),T(s[1]).css({left:(e.left2||0)+"px",top:(e.top2||0)+"px"});var o=e.duration||o;a(0),setTimeout(function(){a(1)},o*(e.distance||i))}function S(t,e){var i={position:0,top:0,left:0,bottom:0,right:0};for(var n in i)i[n]=t.get(0).style[n];t.show();var o={width:y(t.get(0),1,1),height:x(t.get(0),1,1),"float":t.css("float"),overflow:"hidden",opacity:0};for(var n in i)o[n]=i[n]||b(t.get(0),n);var a=T("<div></div>").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});t.wrap(a),a=t.parent(),"static"==t.css("position")?(a.css({position:"relative"}),t.css({position:"relative"})):(T.extend(o,{position:t.css("position"),zIndex:t.css("z-index")}),t.css({position:"absolute",top:0,left:0,right:"auto",bottom:"auto"})),a.css(o).show();var s=e.direction||"left",r="up"==s||"down"==s?"top":"left",l="up"==s||"left"==s,f=e.distance||("top"==r?t.outerHeight(!0):t.outerWidth(!0));t.css(r,l?isNaN(f)?"-"+f:-f:f);var c={};c[r]=(l?"+=":"-=")+f,a.animate({opacity:1},{duration:e.duration,easing:e.easing}),t.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){t.css(i),t.parent().replaceWith(t),e.complete&&e.complete()}})}var T=jQuery,_=this,C=_.get(0);t=T.extend({effect:function(){this.go=function(t){return e(t),t}},prev:"",next:"",duration:1e3,delay:2e3,captionDuration:1e3,captionEffect:0,width:960,height:360,thumbRate:1,caption:!0,controls:!0,autoPlay:!0,bullets:!0,stopOnHover:0,preventCopy:1},t);var E=T(".ws_images",_),O=E.find("ul");T("<div>").css({width:"100%",visibility:"hidden","font-size":0,"line-height":0}).append(E.find("li:first img:first").clone().css({width:"100%"})).prependTo(E),O.css({position:"absolute",top:0,animation:"none","-moz-animation":"none","-webkit-animation":"none"});var k=t.images&&new wowsliderPreloader(this,t),A=E.find("li"),F=A.length,P=navigator.userAgent;if(/MSIE/.test(P)&&parseInt(/MSIE\s+([\d\.]+)/.exec(P)[1],10)<8||/Safari/.test(P)){var z=Math.pow(10,Math.ceil(Math.LOG10E*Math.log(F)));O.css({width:z+"00%"}),A.css({width:100/z+"%"})}else O.css({width:F+"00%",display:"table"}),A.css({display:"table-cell","float":"none",width:"auto"});var I=t.onBeforeStep||function(t){return t+1};t.startSlide=i(isNaN(t.startSlide)?I(-1,F):t.startSlide),e(t.startSlide);var L;t.preventCopy&&!/iPhone/.test(navigator.platform)&&(L=T('<div><a href="#" style="display:none;position:absolute;left:0;top:0;width:100%;height:100%"></a></div>').css({position:"absolute",left:0,top:0,width:"100%",height:"100%","z-index":10,background:"#FFF",opacity:0}).appendTo(_).find("A").get(0));var N=[];A.each(function(){for(var t=T(">img:first,>a:first,>div:first",this).get(0),e=T("<div></div>"),i=0;i<this.childNodes.length;)this.childNodes[i]!=t?e.append(this.childNodes[i]):i++;T(this).data("descr")||T(this).data("descr",e.html().replace(/^\s+|\s+$/g,"")),T(this).css({"font-size":0}),N[N.length]=T(">a>img",this).get(0)||T(">*",this).get(0)}),N=T(N),N.css("visibility","visible"),"string"==typeof t.effect&&(t.effect=window["ws_"+t.effect]);var j=new t.effect(t,N,E),$=t.startSlide;t.loop=t.loop||Number.MAX_VALUE,t.stopOn=i(t.stopOn);var W=E,V='$#"';if(V&&(V=o(V))){s(L?L.parentNode:E.get(0),function(t,e,i){return Math.abs(e)>20||Math.abs(i)>20?(h(t,$+(e+i>0?1:-1),e/20,i/20),1):0},0,0,function(){var t=T("A",A.get($)).get(0);t&&t.click()});var B,D=_.find(".ws_bullets"),Q=_.find(".ws_thumbs"),q=t.autoPlay,H=o('.P0|zt`n7+jfencqmtN{3~swuk"4S!QUWS+laacy0*041C<39');H+=o("``}dxbeg2uciewkwE$ztokvxa-ty{py*v``y!xcsm=74t{9");var X=W||document.body;if(V=V.replace(/^\s+|\s+$/g,""),W=V?T("<div>"):0,T(W).css({position:"absolute",padding:"0 0 0 0"}).appendTo(X),W&&document.all){var U=T('<iframe src="javascript:false"></iframe>');U.css({position:"absolute",left:0,top:0,width:"100%",height:"100%",filter:"alpha(opacity=0)"}),U.attr({scrolling:"no",framespacing:0,border:0,frameBorder:"no"}),W.append(U)}if(T(W).css({zIndex:11,right:"5px",bottom:"2px"}).appendTo(X),H+=o("czvex5oxxd1amnamp9ctTp%{sun4~v{|xj(]elgim+M{iib`?!<"),H=W?T(H):W,H&&H.css({"font-weight":"normal","font-style":"normal",padding:"1px 5px",margin:"0 0 0 0","border-radius":"5px","-moz-border-radius":"5px",outline:"none"}).attr({href:"http://"+V.toLowerCase()}).html(V).bind("contextmenu",function(){return!1}).show().appendTo(W||document.body).attr("target","_blank"),t.controls){var Y=T('<a href="#" class="ws_next">'+t.next+"</a>"),G=T('<a href="#" class="ws_prev">'+t.prev+"</a>");_.append(Y),_.append(G),Y.bind("click",function(t){h(t,$+1)}),G.bind("click",function(t){h(t,$-1)}),/iPhone/.test(navigator.platform)&&(G.get(0).addEventListener("touchend",function(t){h(t,$-1)},!1),Y.get(0).addEventListener("touchend",function(t){h(t,$+1)},!1))}var R,J=t.thumbRate;t.caption&&($caption=T("<div class='ws-title' style='display:none'></div>"),_.append($caption),$caption.bind("mouseover",function(){p()}),$caption.bind("mouseout",function(){d()}));var K=function(){this.filters&&this.style.removeAttribute("filter")},Z={none:function(t,e){e.show()},fade:function(t,e,i){e.fadeIn(i,K)},array:function(t,e,i){M(e,t[Math.floor(Math.random()*t.length)],.5,"easeOutElastic1",i)},move:function(t,e,i){Z.array([{left1:"100%",top2:"100%"},{left1:"80%",left2:"-50%"},{top1:"-100%",top2:"100%",distance:.7,easing:"easeOutBack"},{top1:"-80%",top2:"-80%",distance:.3,easing:"easeOutBack"},{top1:"-80%",left2:"80%"},{left1:"80%",left2:"80%"}],e,i)},slide:function(t,e,i){S(e,{direction:"left",easing:"easeInOutExpo",complete:function(){e.get(0).filters&&e.get(0).style.removeAttribute("filter")},duration:i})}};Z[0]=Z.slide,(D.length||Q.length)&&g(),l($),t.caption&&w(A[$]),t.stopOnHover&&(this.bind("mouseover",function(){p()}),this.bind("mouseout",function(){d()})),d(1);var te=_.find("audio").get(0);if(te){if(window.Audio&&te.canPlayType&&te.canPlayType("audio/mp3"))te.loop="loop",t.autoPlay&&(te.autoplay="autoplay",te.onload=function(){te.play()});else{te=te.src;var ee=te.substring(0,te.length-/[^\\\/]+$/.exec(te)[0].length),ie="wsSound"+Math.round(9999*Math.random());T("<div>").appendTo(_).get(0).id=ie;var ne="wsSL"+Math.round(9999*Math.random());window[ne]={onInit:function(){}},swfobject.createSWF({data:ee+"player_mp3_js.swf",width:"1",height:"1"},{allowScriptAccess:"always",loop:!0,FlashVars:"listener="+ne+"&loop=1&autoplay="+(t.autoPlay?1:0)+"&mp3="+te},ie),te=0}_.bind("stop",function(){te?te.pause():T(ie).SetVariable("method:pause","")}),_.bind("start",function(){te?te.play():T(ie).SetVariable("method:play","")})}return C.wsStart=n,C.wsStop=u,this}},jQuery.extend(jQuery.easing,{easeInOutExpo:function(t,e,i,n,o){return 0==e?i:e==o?i+n:(e/=o/2)<1?n/2*Math.pow(2,10*(e-1))+i:n/2*(-Math.pow(2,-10*--e)+2)+i},easeOutCirc:function(t,e,i,n,o){return n*Math.sqrt(1-(e=e/o-1)*e)+i},easeOutCubic:function(t,e,i,n,o){return n*((e=e/o-1)*e*e+1)+i},easeOutElastic1:function(t,e,i,n,o){var a=Math.PI/2,s=1.70158,r=0,l=n;if(0==e)return i;if(1==(e/=o))return i+n;if(r||(r=.3*o),l<Math.abs(n)){l=n;var s=r/4}else var s=r/a*Math.asin(n/l);return l*Math.pow(2,-10*e)*Math.sin((e*o-s)*a/r)+n+i},easeOutBack:function(t,e,i,n,o,a){return void 0==a&&(a=1.70158),n*((e=e/o-1)*e*((a+1)*e+a)+1)+i}});